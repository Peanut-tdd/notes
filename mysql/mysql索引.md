# MYSQL索引

## B-Tree 和 B+Tree

目前大部分数据库系统及文件系统都采用 B-Tree 和 B+Tree 作为索引结构。

MySQL InnoDB存储引擎是基于B-树（但实际上MySQL采用的是B+树结构）的索引结构。

**注意B-Tree 中文称为 B树** ，**没有所谓的B减树**，特别是与B+树一起讲的时候。想当然的认为有B+（加）树就有B-（减）树，实际上B+树的英文名是“B+ -Tree”。

**B-树是一种m阶平衡树，叶子节点都在同一层**，由于每一个节点存储的数据量比较大，索引整个B-树的层数是非常低的，基本上不超过三层。

由于磁盘的读取也是按block块操作的（内存是按page页面操作的），因此**B-树的节点大小一般设置为和磁盘块大小一致，这样一个B-树节点，就可以通过一次磁盘I/O把一个磁盘块的数据全部存储下来**，所以当**使用B-树存储索引的时候，磁盘I/O的操作次数是最少的**（MySQL的读写效率，主要集中在磁盘I/O上）。

- B-树的每一个节点，存了**关键字和对应的数据地址**，而B+树的非叶子节点只存关键字，不存数据地址。因此B+树的每一个非叶子节点存储的关键字是远远多于B-树的，B+树的叶子节点存放关键字和数据，因此，**从树的高度上来说，B+树的高度要小于B-树，使用的磁盘I/O次数少，因此查询会更快一些**。
- B-树由于每个节点都存储关键字和数据，因此离根节点进的数据，查询的就快，离根节点远的数据，查询的就慢；**B+树所有的数据都存在叶子节点上，因此在B+树上搜索关键字，找到对应数据的时间是比较平均的，没有快慢之分**。

- 在B-树上如果做区间查找，遍历的节点是非常多的；**B+树所有叶子节点被连接成了有序链表结构，因此做整表遍历和区间查找是非常容易的**。



链接：

https://zhuanlan.zhihu.com/p/113917726

https://blog.csdn.net/xp178171640/article/details/102798759

